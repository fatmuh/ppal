import{T as o}from"./tabulator_esm-e42c3e0e.js";(function(){const r=$("#users-tabulator");if(r.length&&r.data("url")){let n=function(){let t=$("#tabulator-html-filter-value").val(),i=$("#tabulator-html-filter-email").val();e.setFilter([{field:"value",type:"like",value:t},{field:"email",type:"like",value:i}])};const a=r.data("url"),l=$('meta[name="csrf-token"]').attr("content"),e=new o("#users-tabulator",{ajaxURL:a,ajaxContentType:"json",paginationMode:"remote",filterMode:"remote",sortMode:"remote",pagination:!0,paginationSize:10,paginationSizeSelector:[10,20,50,100,250],paginationCounter:"rows",layout:"fitColumns",responsiveLayout:"collapse",placeholder:"Data tidak ditemukan",selectable:!1,columns:[{title:"No",width:100,responsive:0,vertAlign:"middle",headerHozAlign:"center",hozAlign:"center",print:!1,download:!1,formatter:"rownum"},{title:"Nama",minWidth:300,responsive:0,field:"name",vertAlign:"middle",headerHozAlign:"center",hozAlign:"center",print:!1,download:!1},{title:"Email",minWidth:300,responsive:0,field:"email",vertAlign:"middle",headerHozAlign:"center",hozAlign:"center",print:!1,download:!1},{title:"ACTIONS",minWidth:50,field:"actions",responsive:1,hozAlign:"center",headerHozAlign:"center",vertAlign:"middle",print:!1,download:!1,formatter(t,i){return`<div class="flex items-center lg:justify-center">

                            <a href="javascript:;" class="flex items-center mr-3 text-yellow-600 btn-users-edit" data-url="${t.getData().urls.detail_url}" data-form-url="${t.getData().urls.update_url}">
                                <i data-lucide="pencil" class="w-4 h-4 mr-1"></i> Edit
                            </a>

                            <a href="javascript:void(0);" class="flex items-center text-danger mr-3" onclick="alertConfirm('delete-users-form-${t.getData().id}')">
                                <i data-lucide="trash" class="w-4 h-4 mr-1"></i> Delete
                            </a>

                            <form id="delete-users-form-${t.getData().id}" action="${t.getData().urls.delete_url}" method="POST">
                                <input type="hidden" name="_token" value="${l}">
                                <input type="hidden" name="_method" value="DELETE">
                            </form>

                        </div>`}}]});e.on("renderComplete",()=>{createIcons({icons,attrs:{"stroke-width":1.5},nameAttr:"data-lucide"})}),window.addEventListener("resize",()=>{e.redraw(),createIcons({icons,"stroke-width":1.5,nameAttr:"data-lucide"})}),$("#tabulator-html-filter-value").on("keyup",helper.delayWithClear(function(t){t.preventDefault(),n()},700)),$("#tabulator-html-filter-email").on("keyup",helper.delayWithClear(function(t){t.preventDefault(),n()},700)),$("#tabulator-html-filter-reset").on("click",function(t){t.preventDefault(),$("#tabulator-html-filter-value").val(""),$("#tabulator-html-filter-email").val(""),n()}),window.alertConfirm=function(t){Swal.fire({title:"Apakah Anda Yakin?",text:"Apakah anda ingin melanjutkan proses ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#E11D48",confirmButtonText:"Ya, lanjutkan!",cancelButtonText:"Tidak!"}).then(i=>{i.isConfirmed&&document.getElementById(t).submit()})}}})();(function(){$(document).on("click",".btn-users-edit",function(a){a.preventDefault(),r("PATCH",$(this).data("form-url"));const l=$(this).data("url");axios.get(l).then(e=>{const n=e.data.data;$("input#name").val(n.name),$("input#email").val(n.email),$("#password-column").addClass("hidden"),$("#email-column").removeClass("md:col-span-6")}).catch(e=>{console.error(e),alert(e)}).finally(()=>{createIcons({icons,"stroke-width":1.5,nameAttr:"data-lucide"});const e=document.querySelector("#form-users-modal");window.tailwind.Modal.getOrCreateInstance(e).toggle()})}),$(".btn-users-add").on("click",function(a){a.preventDefault(),$("#password-column").removeClass("hidden"),$("#email-column").addClass("md:col-span-6"),r("POST",$(this).data("form-url"));const l=document.querySelector("#form-users-modal");window.tailwind.Modal.getOrCreateInstance(l).toggle()});function r(a="POST",l){const e=$("form#form-users");e[0].reset(),e.find('input[name="_method"]').val(a),e.attr("action",l)}})();
